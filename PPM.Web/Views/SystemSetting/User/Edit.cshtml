@using PensionInsurance.Web.Common
@model PensionInsurance.Web.Views.SystemSetting.User.EditViewModel

@section Styles{
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link href=@Url.Content("~/assets/global/plugins/bootstrap-select/css/bootstrap-select.min.css") rel="stylesheet" type="text/css" />
    <!-- END PAGE LEVEL PLUGINS -->
}

<!-- BEGIN PAGE BAR -->
@section Breadcrumb{
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <a href="@Url.Action("Index","Home")">系统设置</a>
                <i class="fa fa-circle"></i>
            </li>
            <li>
                <a href="javascript:;">用户管理</a>
            </li>
            <li>
                <span>编辑</span>
            </li>
        </ul>
    </div>
}

<!-- END PAGE BAR -->
<div class="full-height-content full-height-content-scrollable">
    <div class="full-height-content-body">
        <form data-ajax="true" action="@Url.Action("Edit", "User")" method="POST" class="form-horizontal">
            <div class="portlet box green" style="margin-top: 10px;">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-gift"></i>用户信息
                    </div>
                </div>
                <div class="portlet-body form">
                    <!-- BEGIN FORM-->
                    <div class="form-body">
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">用户名</label>
                                    <div class="col-md-9">
                                        <input type="text" value="@Model.Username" class="form-control" name="Username"/>
                                    </div>
                                </div>
                            </div>
                            <!--/span-->
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">邮箱</label>
                                    <div class="col-md-9">
                                        <input type="email" value="@Model.Email" class="form-control" name="Email"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">真实姓名</label>
                                    <div class="col-md-9">
                                        <input type="text" value="@Model.RealName" class="form-control" name="RealName"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">联系电话</label>
                                    <div class="col-md-9">
                                        <input type="text" value="@Model.Phone" class="form-control" name="Phone"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">角色名称</label>
                                    <div class="col-md-9">
                                        @Html.DropDownListFor(x => x.RoleIds, Model.Roles, new { multiple = "", @class = "bs-select" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">所属项目</label>
                                    <div class="col-md-9">
                                        @Html.DropDownListFor(x => x.ProjectIds, Model.Projects, new { multiple = "", @class = "bs-select" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">所属部门</label>
                                    <div class="col-md-9">
                                        @Html.InputDropDown(x => Model.DepartmentId, Model.Departments, true)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 col-md-offset-2">
                                <div class="form-group">
                                    <label class="text-right col-md-3">是否启用</label>
                                    <div class="col-md-9">
                                        @Html.BooleanRadioButtonFor(x => x.IsEnabled)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="errors alert alert-danger fade in" style="display: none;"></div>

                        <!--/row-->
                        <div class="row">
                            <div class="col-md-12 text-center">
                                @Html.HiddenFor(x=>x.UserId)
                                <button type="submit" class="btn green btn-sm padding-lf-15">保存</button>
                                <button type="button" class="btn yellow btn-sm padding-lf-15" onclick="javascript: history.back(-1);">返回上一页</button>
                            </div>
                        </div>
                        <!-- END FORM-->

                    </div>
                    <!-- END FORM-->
                </div>
            </div>
        </form>
    </div>
</div>
@section Scripts{
    <script src=@Url.Content("~/assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js") type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.bs-select').selectpicker({
                style: 'btn-xs',
                iconBase: 'fa',
                tickIcon: 'fa-check',
                noneSelectedText: "--未选择--"
            });
            $("#ProjectIds").val(@Html.Raw(Json.Encode(Model.ProjectIds)));
            $("#RoleIds").val(@Html.Raw(Json.Encode(Model.RoleIds)));
            $('.bs-select').selectpicker('refresh');
        });
    </script>
}